<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Piano</title>
    <link rel="icon" type="image/icon" href="name-icon.png" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      /* body {
      background-image: url("https://images.unsplash.com/photo-1598653222000-6b7b7a552625?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80");
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      background-size: cover;
      backdrop-filter: blur(3px);
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    .piano-container {
      width: 680px;
      background-color: #888;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 250 250' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
      margin: 50px auto;
      border-radius: 12px;
      height: 300px;
      box-shadow: 0 1px 0 #444444,
        0 2px 0 #424242,
        0 3px 0 #404040,
        0px 4px 0 #3e3e3e,
        0px 5px 0 #3d3d3d,
        0px 6px 0 #3c3c3c,
        0px 7px 0 #3b3b3b,
        0px 8px 0 #3e3e3e,
        inset 0 0 800px 500px rgba(0, 0, 0, 0.65),
        inset 0 0 0 6px #c9c9c9,
        inset 0 0 1px 8px #000000,
        0 0 8px #000;
      position: relative;
      overflow: hidden;
    } */

      body {
        background-image: url("https://images.unsplash.com/photo-1598653222000-6b7b7a552625?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80");
        background-position: center;
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-size: cover;
        backdrop-filter: blur(3px);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        height: 100vh;
      }

      .piano-container {
        width: 680px;
        background-color: #888;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 250 250' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        border-radius: 12px;
        height: 300px;
        box-shadow: 0 1px 0 #444444, 0 2px 0 #424242, 0 3px 0 #404040,
          0px 4px 0 #3e3e3e, 0px 5px 0 #3d3d3d, 0px 6px 0 #3c3c3c,
          0px 7px 0 #3b3b3b, 0px 8px 0 #3e3e3e,
          inset 0 0 800px 500px rgba(0, 0, 0, 0.65), inset 0 0 0 6px #c9c9c9,
          inset 0 0 1px 8px #000000, 0 0 8px #000;
        position: relative;
        overflow: hidden;
      }

      .piano-container::before {
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.2);
        filter: blur(5px);
      }

      ul {
        height: 170px;
        background-color: #000000;
        width: 572px;
        margin: 0;
        position: absolute;
        bottom: 2px;
        left: 50%;
        transform: translate(-50%);
        padding: 1px;
        overflow: hidden;
        box-shadow: 0 0 0.4px 0.6px rgba(255, 255, 255, 0.2);
      }

      li {
        margin: 0;
        padding: 0;
        list-style: none;
        position: relative;
        float: left;
        border-top-left-radius: 0;
        border-top-right-radius: 0;
      }

      ul .white {
        height: 168px;
        width: 40.7px;
        z-index: 1;
        border-left: 1px solid #1f1f1f;
        box-shadow: inset 0px -6px 0 0 rgba(0, 0, 0, 0.3),
          -5px -5px 20px rgba(0, 0, 0, 0) inset, inset 3px 0px 3px #6d6d6d00,
          inset -3px 0px 3px #6d6d6d00,
          inset 0 10px 20px rgba(121, 121, 121, 0.2),
          inset 0 -10px 20px rgba(87, 87, 87, 0.2);
        transition: box-shadow 0.025s ease-out, height 0.025s ease-out;
        background: linear-gradient(to bottom, #dfdfdf 30%, #ffffff 100%);
      }

      ul .white.active {
        height: 168px;
        box-shadow: inset 0 -3px 0 0 rgba(0, 0, 0, 0.2),
          -5px -5px 20px rgba(0, 0, 0, 0.2) inset, inset 3px 0px 3px #6d6d6d,
          inset -3px 0px 3px #6d6d6d, inset 0 10px 20px rgba(121, 121, 121, 0),
          inset 0 -10px 20px rgba(87, 87, 87, 0);
        transition: box-shadow 0.025s ease-out, height 0.025s ease-out;
        background: linear-gradient(to bottom, #fff 0%, #f7f7f7 100%);
      }

      ul .white.active::before {
        content: "";
        width: 100%;
        height: 3px;
        background: #000000;
        position: absolute;
        bottom: 0;
        transition: 0.025s ease-out;
        box-shadow: inset 0px -1px 1px #272727, inset 0px -1px 1px #272727,
          inset 0 2px 0 #7a7a7a;
      }

      .active {
        transition: all 0.05s ease-out;
      }

      ul .white.active .shadow {
        position: relative;
        width: 100%;
        height: calc(100% - 0px);
        overflow: hidden;
        transition: all 0.05s ease-out;
      }

      ul .white.active .shadow::after {
        content: "";
        width: 15px;
        height: 164px;
        position: absolute;
        background: rgba(0, 0, 0, 0.3);
        background: linear-gradient(
          90deg,
          rgba(0, 0, 0, 0.6) 0%,
          rgba(44, 44, 44, 0.65) 50%,
          rgba(58, 58, 58, 0.6) 85%,
          rgba(74, 74, 74, 0.5) 100%
        );
        filter: blur(3px);
        position: absolute;
        bottom: 3px;
        transition: all 0.05s ease-out;
        box-shadow: -2px 0 2px rgba(0, 0, 0, 0.3);
        transform: translateX(-10px) skewX(4deg);
      }

      ul .black {
        position: relative;
        height: 100px;
        width: 1.7em;
        margin: 0 0 0 -0.8em;
        z-index: 5;
        border: 0.4px solid #303030;
        border-top: 0px solid #000;
        border-radius: 0 0 3px 3px;
        box-shadow: -1px -1px 1px rgba(124, 124, 124, 0.2) inset,
          1px 0px 1px rgba(175, 175, 175, 0.4) inset,
          0 -5px 2px 3px rgba(0, 0, 0, 0.5) inset,
          7px -5px 4px 4px rgba(0, 0, 0, 0.6), 0 2px 4px rgba(0, 0, 0, 0.5);
        background: linear-gradient(45deg, #222 0%, #464646 100%);
      }

      ul .black::before {
        content: "";
        position: absolute;
        height: 15px;
        width: 1.7em;
        background: linear-gradient(
          0deg,
          rgb(92, 92, 92) 0%,
          rgba(92, 92, 92, 0.2) 80%,
          rgba(92, 92, 92, 0) 100%
        );
        bottom: 0;
        z-index: 1;
        left: 50%;
        transform: translate(-50%) scalex(0.9);
        transform-origin: center;
        border-top-left-radius: 8px;
        border-top-right-radius: 8px;
        transition: all 0.05s ease-out;
      }

      ul .black.active::before {
        height: 8px;
      }

      ul .black.active::after {
        content: "";
        position: absolute;
        height: 4px;
        width: 1.7em;
        background: #000;
        bottom: -2px;
        z-index: -1;
        left: 50%;
        transform: translate(-50%);
        transform-origin: center;
        border-radius: 0 0 3px 3px;
      }

      ul .black.active {
        box-shadow: -1px -1px 2px rgba(155, 155, 155, 0.2) inset,
          1px 0px 1px rgba(155, 155, 155, 0.3) inset,
          0 -4px 5px 3px rgba(0, 0, 0, 0.6) inset, -1px 0px 0 #000,
          1px 0px 0 #000, 4px -5px 3px 3px rgba(0, 0, 0, 0.6),
          0 1px 2px rgba(0, 0, 0, 0.5);
        background: linear-gradient(to bottom, #3f3f3f 0%, #222222 100%);
        height: 99.4px;
        transform: scalex(0.95);
        transform-origin: center;
        position: relative;
      }

      .w {
        margin: 0 0 0 -0.9em;
      }

      ul li:first-child {
        border-left: 0;
      }

      .keyboard__speaker {
        position: absolute;
        left: 15px;
        top: 10px;
        width: 60px;
        height: 60px;
        background-color: #1a191c;
        border-radius: 50%;
        margin-bottom: 5px;
        background-position: 0 0, 2px 2px;
        background-size: 8px 8px;
        box-shadow: -2px -1px 2px #ffffff2a, 2px 2px 2px rgba(37, 37, 37, 0.767),
          0 0 10px #2c2c2c8e, inset 1px 15px 10px #3d3d3d60, inset 0 0 6px #000;
        --s: 8px;
        --_s: 0 0 / var(--s) var(--s);
        --s: 8px;
        --_s: 0 0 / var(--s) var(--s);
        background: radial-gradient(#0000 50%, #5f5f5f 54%, #333333 57%)
            var(--_s),
          radial-gradient(circle at 40% 30%, #0000 4%, #000 90%) var(--_s),
          repeating-conic-gradient(#000000 0 25%, #000000 0 50%) 0 0 /
            calc(2 * var(--s)) calc(2 * var(--s));
      }

      .keyboard__speaker2 {
        position: absolute;
        right: 15px;
        top: 10px;
        width: 60px;
        height: 60px;
        background-color: #1a191c;
        border-radius: 50%;
        margin-bottom: 5px;
        background-position: 0 0, 2px 2px;
        background-size: 8px 8px;
        box-shadow: -2px -1px 2px #ffffff2a, 2px 2px 2px rgba(37, 37, 37, 0.767),
          0 0 10px #2c2c2c8e, inset 1px 15px 10px #3d3d3d60, inset 0 0 6px #000;
        --s: 8px;
        --_s: 0 0 / var(--s) var(--s);
        background: radial-gradient(#0000 50%, #5f5f5f 54%, #333333 57%)
            var(--_s),
          radial-gradient(circle at 40% 30%, #0000 4%, #000 90%) var(--_s),
          repeating-conic-gradient(#000000 0 25%, #000000 0 50%) 0 0 /
            calc(2 * var(--s)) calc(2 * var(--s));
      }

      .left {
        position: absolute;
        left: 0;
        bottom: 0;
        width: 24px;
        height: 180px;
        background: #333333;
        background: linear-gradient(
          -90deg,
          rgba(0, 0, 0, 1) 0%,
          rgba(74, 74, 74, 1) 75%
        );
        border-right: 5px solid #00000056;
        opacity: 0.8;
        border-radius: 0 15px 0px 15px;
        box-shadow: 7px 1px 5px -5px rgba(0, 0, 0, 1);
        z-index: 3;
      }

      .left::after {
        position: absolute;
        content: "";
        width: 6px;
        height: 163px;
        right: -12px;
        bottom: 21px;
        background-color: #1d1d1da4;
        filter: blur(3px);
        z-index: 1;
      }

      .right {
        position: absolute;
        right: 0;
        bottom: 0;
        width: 24px;
        height: 180px;
        background: #333333;
        background: linear-gradient(
          -90deg,
          rgba(0, 0, 0, 1) 0%,
          rgba(74, 74, 74, 1) 75%
        );
        border-left: 5px solid #88888856;
        opacity: 0.8;
        border-radius: 15px 0px 15px 0px;
        box-shadow: -7px 1px 5px -5px rgba(0, 0, 0, 1);
        z-index: 3;
      }

      .middle {
        position: absolute;
        top: 107px;
        width: 620px;
        height: 20px;
        z-index: 9;
        perspective: 1100px;
        left: 50%;
        transform: translate(-50%);
        z-index: 8;
      }

      .mr {
        position: relative;
        width: 580px;
        height: 20px;
        background: rgba(7, 7, 7, 0.3);
        background: linear-gradient(
          90deg,
          rgba(90, 90, 90, 0.9) 0%,
          rgba(39, 39, 39, 0.794) 70%
        );
        transform: translateX(21px) translateY(5px) rotateX(-50deg);
        z-index: 2;
        box-shadow: 0 -2px 1px #555;
      }

      .mr::after {
        content: "";
        position: absolute;
        top: 18px;
        width: 95%;
        left: 50%;
        transform: translate(-40.5%);
        height: 15px;
        background: linear-gradient(
          90deg,
          rgba(48, 48, 48, 0.9) 0%,
          rgba(39, 39, 39, 0.794) 70%
        );
        filter: blur(3px);
      }

      .setup {
        position: relative;
      }

      .setup-box {
        margin: 10px auto;
        width: 450px;
        height: 95px;
        background: linear-gradient(
          90deg,
          rgba(63, 63, 63, 0.932) 0%,
          rgba(46, 46, 46, 0.8) 70%
        );
        box-sizing: border-box;
        border-radius: 5px;
        display: flex;
        justify-content: space-around;
        flex-direction: row;
        box-shadow: -1px -1px 1px #ffffff21, 2px 2px 2px rgba(37, 37, 37, 0.8),
          0 0 10px #2c2c2c8e, inset 1px 15px 10px #3d3d3d60, inset 0 0 6px #000;
      }

      .setup-box .wave-style-buttons {
        width: 85px;
        height: 80px;
        display: flex;
        border-right: 2px solid #000;
        flex-wrap: wrap;
        align-self: center;
        box-shadow: 2px 0 0 #ffffff0f;
        border-radius: 2px;
        gap: 1px;
      }

      .instrument-style-buttons {
        width: 85px;
        height: 80px;
        display: flex;
        flex-wrap: wrap;
        align-self: center;
        box-shadow: inset 2px 0 0 #ffffff0f;
        border-left: 2px solid #000;
        border-radius: 2px;
        justify-content: flex-end;
        gap: 1px;
      }

      .instrument-style-buttons .button,
      .wave-style-buttons .button {
        width: 35px;
        height: 35px;
        font-size: 1cap;
        background: #5e5e5e;
        border: 1px solid #ffffff15;
        outline: none;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 2px;
        box-sizing: border-box;
        border-radius: 3px;
        position: relative;
        transition: 0.05s linear;
      }

      .instrument-style-buttons .button::after,
      .wave-style-buttons .button::after {
        content: "";
        position: absolute;
        inset: -1px 0px;
        border-bottom: 2px solid #9b9b9b;
        filter: blur(0.6px);
        transition: 0.05s linear;
      }

      .instrument-style-buttons .buttond::before,
      .wave-style-buttons .button::before {
        content: "";
        position: absolute;
        inset: 2px -1px 0px;
        border-left: 2px solid #7c7c7c;
        filter: blur(0.8px);
        transition: 0.05s linear;
      }

      .instrument-style-buttons .button:disabled::after,
      .wave-style-buttons .button:disabled::after,
      .instrument-style-buttons .button:disabled::before,
      .wave-style-buttons .button:disabled::before {
        border-left: 0px solid #7c7c7c;
        border-bottom: 0px solid #9b9b9b;
        filter: blur(0px);
        transition: 0.05s ease-out;
        box-shadow: 0 0 0px #8fff7800, 0 0 0px #a4fc9300;
      }

      .instrument-style-buttons .button:disabled,
      .wave-style-buttons .button:disabled {
        background: radial-gradient(circle, #daffdc 0%, #156900 100%);
        border: 1px solid #40c526;
        box-shadow: 0 0 2px #8fff78, 0 0 5px #a4fc93;
        transition: 0.05s ease-out;
      }

      .instrument-style-buttons .button:disabled:nth-child(2),
      .wave-style-buttons .button:disabled:nth-child(2) {
        background: radial-gradient(circle, #d5f5ff 0%, #136680 100%);
        border: 1px solid #26a0c5;
        box-shadow: 0 0 2px #26a0c5, 0 0 5px #84e2ff;
      }

      .instrument-style-buttons .button:disabled:nth-child(3),
      .wave-style-buttons .button:disabled:nth-child(3) {
        background: radial-gradient(circle, #f3cbff 0%, #510069 100%);
        border: 1px solid #a026c5;
        box-shadow: 0 0 2px #e478ff, 0 0 5px #f093fc;
      }

      .instrument-style-buttons .button:disabled:nth-child(4),
      .wave-style-buttons .button:disabled:nth-child(4) {
        background: radial-gradient(circle, #ffd1cb 0%, #690000 100%);
        border: 1px solid #c53926;
        box-shadow: 0 0 2px #ff8878, 0 0 5px #fc9f93;
      }

      .button svg {
        width: 25px;
        height: 25px;
        fill: #999999;
        transition: 0.05s ease-out;
      }

      .button:disabled svg {
        fill: #00000088;
        transform: translateY(1px);
      }

      .mid {
        display: flex;
        align-items: center;
        justify-content: space-around;
        align-self: center;
        flex-direction: column;
        height: 85px;
        position: relative;
      }

      #visualizer {
        overflow: hidden;
        position: relative;
        width: 120px;
        height: 50px;
        background: radial-gradient(
          circle at 50% 50%,
          rgb(252, 230, 255) 0%,
          rgba(255, 144, 246, 0.815) 100%
        );
        display: flex;
        box-shadow: inset 1px 1px 2px 0 rgba(0, 0, 0, 0.6),
          0 0 0px 1px #74747470, 0 0 1px 3px #000000, -3px 0 3px #b1b1b1,
          inset -1px -1px 4px 0 rgba(255, 255, 255, 0.3);
      }

      .visualizer-wrapper {
        width: 120px;
        height: 50px;
        display: flex;
        justify-content: center;
        transform: rotateZ(180deg);
      }

      .visualizer-wrapper .blocks-container {
        max-height: 40px;
        animation: dance 0.5s infinite;
        overflow: hidden;
      }

      .visualizer-wrapper .blocks-container:nth-child(1) {
        animation-delay: 206ms;
      }

      .visualizer-wrapper .blocks-container:nth-child(2) {
        animation-delay: 289ms;
      }

      .visualizer-wrapper .blocks-container:nth-child(3) {
        animation-delay: 436ms;
      }

      .visualizer-wrapper .blocks-container:nth-child(4) {
        animation-delay: 185ms;
      }

      .visualizer-wrapper .blocks-container:nth-child(5) {
        animation-delay: 101ms;
      }

      .visualizer-wrapper .blocks-container:nth-child(6) {
        animation-delay: 206ms;
      }

      .visualizer-wrapper .blocks-container:nth-child(7) {
        animation-delay: 347ms;
      }

      .visualizer-wrapper .blocks-container:nth-child(8) {
        animation-delay: 221ms;
      }

      .visualizer-wrapper .blocks-container .block {
        box-shadow: inset 1px 1px 0px 10px rgb(230, 53, 53);
        margin: 0 2px;
        margin-bottom: 3px;
        width: 8px;
        height: 10px;
      }

      @keyframes dance {
        100%,
        0% {
          max-height: 40px;
        }

        80% {
          max-height: 0px;
        }
      }

      .effect-buttons {
        width: 225px;
        display: none;
        flex-direction: row;
        align-items: center;
        height: 23px;
        color: white;
        gap: 5px;
      }

      .effect-buttons label {
        position: relative;
        width: 35px;
        height: 25px;
        line-height: 25px;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
      }

      .effect-buttons label input {
        appearance: none;
      }

      .effect-buttons label span {
        position: absolute;
        width: 100%;
        height: 100%;
        background: linear-gradient(0deg, #555353, #363535, #303030);
        border: 1px solid #222;
        border-radius: 6px;
        box-shadow: inset 0 -3px 1px rgba(0, 0, 0, 0.3),
          1px -1px 2px rgba(0, 0, 0, 0.5), 0 -5px 10px rgba(0, 0, 0, 0.35),
          0 -5px 10px rgba(0, 0, 0, 0), 0 -5px 10px rgba(0, 0, 0, 0),
          0 1px 5px rgba(0, 255, 0, 0), inset 0 0 0 1px rgba(172, 255, 47, 0),
          inset 0 -3px 3px rgba(0, 0, 0, 0);
      }

      .effect-buttons label input:checked ~ span {
        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.35),
          inset 0 2px 3px rgba(0, 0, 0, 0.5),
          inset 0 5px 10px rgba(24, 24, 24, 0.35),
          1px -2px 4px rgba(0, 0, 0, 0.52), 0 1px 3px #00a2ff26,
          0px 2px 10px #00a2ff26, inset 0 0 0px 1px #67a4ff,
          inset 0 -1px 3px rgba(21, 255, 0, 0);
      }

      .effect-buttons label span::before {
        content: "";
        position: absolute;
        inset: 4px 2px;
        border-bottom: 1px solid #ccc;
        filter: blur(2px);
      }

      .effect-buttons label span::after {
        content: "";
        position: absolute;
        inset: 6px 2px;
        border-left: 1px solid #7a7a7a;
        filter: blur(2px);
      }

      .effect-buttons label input:checked ~ span::after {
        border-left: 1px solid #67a4ff;
        filter: blur(1.5px);
        inset: 4px 1px;
      }

      .effect-buttons label input:checked ~ span::before {
        inset: 2px 4px;
        border-bottom: 1px solid #67a4ff;
        filter: blur(1.2px);
      }

      .effect-buttons label svg {
        width: 15px;
        height: 15px;
        position: relative;
        z-index: 12;
        margin-bottom: 5px;
      }

      .effect-buttons label input:checked ~ svg {
        fill: #67a4ff;
        filter: drop-shadow(0 0px 3px #67a4ff);
        transform: translateY(2px);
      }

      .effect-buttons label input:checked ~ .efect_icon {
        filter: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"><filter id="naturalShadow" x="0" y="0" width="2" height="2"><feOffset in="SourceGraphic" dx="0" dy="0" /><feGaussianBlur stdDeviation="5" result="blur" /><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter></svg>#naturalShadow');
      }

      .effect-buttons label svg {
        fill: #797979;
      }

      .equalizer {
        z-index: 5;
        position: absolute;
        height: 100%;
        width: 100%;
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.8);
      }

      .equalizer {
        display: none;
      }

      .narrow-column {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        width: 30px;
        height: 45px;
      }

      .volume-slider {
        display: flex;
        transform: rotate(-90deg);
        align-items: center;
        justify-content: center;
        font-size: 0.7rem;
        color: hsla(0, 0%, 20%, 1);
      }

      .volume-slider span {
        transform: rotate(90deg);
        font-size: 1.3em;
        min-width: 0.5em;
      }

      .volume-slider input[type="range"] {
        font-size: 0.4em;
        align-self: center;
        margin: -2.75em 0;
        border: solid 8px transparent;
        padding: 0;
        min-width: 45px;
        height: 8px;
        background: repeating-linear-gradient(
              90deg,
              rgb(255, 4, 4),
              rgb(233, 12, 12) 0.0625rem,
              transparent 0.0625rem,
              transparent 2em
            )
            no-repeat 50% 0.4375em border-box,
          repeating-linear-gradient(
              90deg,
              rgb(32, 11, 223),
              rgb(30, 18, 207) 0.0625rem,
              transparent 0.0625rem,
              transparent 2em
            )
            no-repeat 50% 4.1875em border-box,
          linear-gradient(
              90deg,
              rgba(197, 197, 197, 0),
              #757575,
              rgba(197, 197, 197, 0)
            )
            no-repeat 50% 50% border-box;
        background-size: auto, auto, auto;
        background-size: 12.0625em 0.625em, 12.0625em 0.625em, 100% 2.25em;
        box-sizing: initial;
        cursor: pointer;
      }

      .volume-slider input[type="range"],
      input[type="range"]::-webkit-slider-runnable-track,
      input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
      }

      .volume-slider input[type="range"]::-moz-range-track {
        width: 45px;
        height: 4px;
        border-radius: 2px;
        background-color: rgb(53, 53, 53);
      }

      .volume-slider input[type="range"]::-moz-range-thumb {
        border: none;
        width: 4em;
        height: 2em;
        border-radius: 0.5em;
        box-shadow: -0.125em 0 0.25em hsl(0, 0%, 55%),
          inset -0.0625rem 0 0.0625rem #fff;
        background: radial-gradient(
              hsl(0, 0%, 90%) 10%,
              hsla(0, 0%, 90%, 0.2) 10%,
              hsla(0, 0%, 90%, 0) 72%
            )
            no-repeat 50% 50%,
          radial-gradient(
              at 100% 50%,
              hsl(0, 0%, 89%),
              hsl(0, 0%, 89%) 71%,
              transparent 71%
            )
            no-repeat 2.5em 50%,
          linear-gradient(90deg, hsl(0, 0%, 89%), hsl(0, 0%, 80%)) no-repeat
            100% 50%,
          radial-gradient(
              at 0 50%,
              hsl(0, 0%, 79%),
              hsl(0, 0%, 75%) 71%,
              transparent 71%
            )
            no-repeat 0.75em 50%,
          linear-gradient(90deg, hsl(0, 0%, 87%), hsl(0, 0%, 79%)) no-repeat 0
            50%,
          linear-gradient(
            hsl(0, 0%, 78%),
            hsl(0, 0%, 96%),
            hsl(0, 0%, 96%),
            hsl(0, 0%, 78%)
          );
        background-size: auto, auto, auto, auto, auto, auto;
        background-size: 0.825em 100%;
      }
      .heading {
        background-color: #0000006b;
        backdrop-filter: blur(20px);
        /* background-color: #1A191C; */
        padding: 20px;
        border-radius: 15px;
        width: 40%;
        border: 2px solid #dfdfdf;
        margin: 45px;
      }

      .heading h1 {
        font-size: 30px;
        letter-spacing: 2px;
        text-align: center;
        font-family: "Dancing Script", cursive;
        color: #fff;
      }
    </style>
  </head>

  <body>
    <div class="heading">
      <h1>Virtual Piano</h1>
    </div>
    <div class="piano-container">
      <div class="left"></div>
      <div class="right"></div>
      <div class="middle">
        <div class="mr"></div>
      </div>
      <div class="bttom"></div>
      <div class="setup">
        <div class="setup-box">
          <div class="wave-style-buttons">
            <button class="button" id="waveSine">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128">
                <path
                  d="M24 18.5C16.8 18.5 11 24.3 11 31.5L11 99L11 114C11 121.2 16.8 127 24 127L104 127C111.2 127 117 121.2 117 114L117 99L117 31.5C117 24.3 111.2 18.5 104 18.5L24 18.5 z M 24 24.5L30.099609 24.5L30.099609 66.5C30.099609 69.3 32.299609 71.5 35.099609 71.5L36.099609 71.5L36.099609 106L24 106C20.1 106 17 102.9 17 99L17 31.5C17 27.6 20.1 24.5 24 24.5 z M 48.099609 24.5L55.099609 24.5L55.099609 66.5C55.099609 69.3 57.299609 71.5 60.099609 71.5L61.099609 71.5L61.099609 106L42.099609 106L42.099609 71.5L43.099609 71.5C45.899609 71.5 48.099609 69.3 48.099609 66.5L48.099609 24.5 z M 73.099609 24.5L80.099609 24.5L80.099609 66.5C80.099609 69.3 82.299609 71.5 85.099609 71.5L86.099609 71.5L86.099609 106L67.099609 106L67.099609 71.5L68.099609 71.5C70.899609 71.5 73.099609 69.3 73.099609 66.5L73.099609 24.5 z M 98.099609 24.5L104 24.5C107.9 24.5 111 27.6 111 31.5L111 99C111 102.9 107.9 106 104 106L92.099609 106L92.099609 71.5L93.099609 71.5C95.899609 71.5 98.099609 69.3 98.099609 66.5L98.099609 24.5 z"
                />
              </svg>
            </button>
            <button class="button" id="waveSquare">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26">
                <path
                  d="M3.40625 2C1.507813 2 0 3.507813 0 5.40625L0 20.59375C0 22.492188 1.507813 24 3.40625 24L22.59375 24C24.492188 24 26 22.492188 26 20.59375L26 5.40625C26 3.507813 24.492188 2 22.59375 2 Z M 2 11.71875C2.425781 11.90625 2.90625 12 3.40625 12L5 12L5 18L7 18L7 12L8 12L8 18L10 18L10 12L11 12L11 18L13 18L13 12L16 12L16 18L18 18L18 12L19 12L19 18L21 18L21 12L22.59375 12C23.09375 12 23.574219 11.90625 24 11.71875L24 20.59375C24 21.394531 23.394531 22 22.59375 22L3.40625 22C2.605469 22 2 21.394531 2 20.59375Z"
                />
              </svg>
            </button>
            <button class="button" id="waveTriangle">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26">
                <path
                  d="M3 2C1.355469 2 0 3.355469 0 5L0 21C0 22.644531 1.355469 24 3 24L23 24C24.644531 24 26 22.644531 26 21L26 5C26 3.355469 24.644531 2 23 2 Z M 3 6L12 6L12 11L3 11 Z M 4 7L4 10L5 10L5 7 Z M 8 7L8 10L9 10L9 7 Z M 16.5 7C17.300781 7 18 7.699219 18 8.5C18 9.300781 17.300781 10 16.5 10C15.699219 10 15 9.300781 15 8.5C15 7.699219 15.699219 7 16.5 7 Z M 21.5 7C22.300781 7 23 7.699219 23 8.5C23 9.300781 22.300781 10 21.5 10C20.699219 10 20 9.300781 20 8.5C20 7.699219 20.699219 7 21.5 7 Z M 10 8L10 10L11 10L11 8 Z M 6 9L6 10L7 10L7 9 Z M 2 14L5 14L5 20L7 20L7 14L8 14L8 20L10 20L10 14L11 14L11 20L13 20L13 14L16 14L16 20L18 20L18 14L19 14L19 20L21 20L21 14L24 14L24 21C24 21.554688 23.554688 22 23 22L3 22C2.445313 22 2 21.554688 2 21Z"
                />
              </svg>
            </button>
            <button class="button" id="waveSawtooth">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30">
                <path
                  d="M10 4 A 7 7 0 0 0 3 11L3 20L3 25 A 1.0001 1.0001 0 0 0 4 26L26 26 A 1.0001 1.0001 0 0 0 27 25L27 20L27 15C27 12.239 24.761 10 22 10L21.033203 10C19.730203 10 18.478922 9.4910312 17.544922 8.5820312L15.101562 6.203125L15.09375 6.2050781 A 7 7 0 0 0 10 4 z M 5 20L7 20L7 22.5C7 22.776 7.224 23 7.5 23L8.5 23C8.776 23 9 22.776 9 22.5L9 20L10 20L10 22.5C10 22.776 10.224 23 10.5 23L11.5 23C11.776 23 12 22.776 12 22.5L12 20L15 20L15 22.5C15 22.776 15.224 23 15.5 23L16.5 23C16.776 23 17 22.776 17 22.5L17 20L18 20L18 22.5C18 22.776 18.224 23 18.5 23L19.5 23C19.776 23 20 22.776 20 22.5L20 20L21 20L21 22.5C21 22.776 21.224 23 21.5 23L22.5 23C22.776 23 23 22.776 23 22.5L23 20L25 20L25 24L5 24L5 20 z"
                />
              </svg>
            </button>
          </div>

          <div class="mid">
            <div class="effect-buttons">
              <label for="touchEffect">
                <input type="checkbox" id="touchEffect" />
                <!-- <span></span> -->
                <!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30">
                <path class="efect_icon"
                  d="M6.984375 3.9863281 A 1.0001 1.0001 0 0 0 6 5L6 25 A 1.0001 1.0001 0 1 0 8 25L8 5 A 1.0001 1.0001 0 0 0 6.984375 3.9863281 z M 22.984375 3.9863281 A 1.0001 1.0001 0 0 0 22 5L22 25 A 1.0001 1.0001 0 1 0 24 25L24 5 A 1.0001 1.0001 0 0 0 22.984375 3.9863281 z M 2.984375 7.9863281 A 1.0001 1.0001 0 0 0 2 9L2 21 A 1.0001 1.0001 0 1 0 4 21L4 9 A 1.0001 1.0001 0 0 0 2.984375 7.9863281 z M 10.984375 8.9863281 A 1.0001 1.0001 0 0 0 10 10L10 20 A 1.0001 1.0001 0 1 0 12 20L12 10 A 1.0001 1.0001 0 0 0 10.984375 8.9863281 z M 18.984375 8.9863281 A 1.0001 1.0001 0 0 0 18 10L18 20 A 1.0001 1.0001 0 1 0 20 20L20 10 A 1.0001 1.0001 0 0 0 18.984375 8.9863281 z M 26.984375 10.986328 A 1.0001 1.0001 0 0 0 26 12L26 18 A 1.0001 1.0001 0 1 0 28 18L28 12 A 1.0001 1.0001 0 0 0 26.984375 10.986328 z M 14.984375 11.986328 A 1.0001 1.0001 0 0 0 14 13L14 17 A 1.0001 1.0001 0 1 0 16 17L16 13 A 1.0001 1.0001 0 0 0 14.984375 11.986328 z" />
              </svg> -->
              </label>
              <label for="reverbEffect">
                <input type="checkbox" id="reverbEffect" />
                <!-- <span></span> -->
                <!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">
                <path class="efect_icon"
                  d="M21.488281 12C21.019531 12.003906 20.617188 12.335938 20.519531 12.796875L17.71875 26.40625L15.9375 21.648438C15.796875 21.277344 15.449219 21.023438 15.050781 21.003906C14.65625 20.980469 14.285156 21.199219 14.105469 21.550781L12.382813 25L9 25C8.914063 25 8.828125 25.011719 8.746094 25.03125C8.394531 24.394531 7.726563 24 7 24C5.894531 24 5 24.894531 5 26C5 27.105469 5.894531 28 7 28C7.726563 28 8.394531 27.605469 8.75 26.96875C8.832031 26.992188 8.914063 27 9 27L13 27C13.378906 27 13.726563 26.785156 13.894531 26.449219L14.871094 24.5L17.0625 30.351563C17.222656 30.765625 17.636719 31.027344 18.078125 30.992188C18.519531 30.960938 18.886719 30.636719 18.980469 30.203125L21.4375 18.253906L24.515625 35.179688C24.59375 35.621094 24.960938 35.957031 25.40625 35.996094C25.851563 36.039063 26.273438 35.777344 26.433594 35.359375L30.488281 24.816406L32.5625 30.351563C32.699219 30.707031 33.023438 30.957031 33.402344 30.992188C33.777344 31.03125 34.144531 30.851563 34.347656 30.53125L36.554688 27L41.269531 27C41.628906 27.617188 42.285156 28 43 28C44.105469 28 45 27.105469 45 26C45 24.894531 44.105469 24 43 24C42.285156 24 41.625 24.382813 41.269531 25L36 25C35.65625 25 35.335938 25.179688 35.152344 25.46875L33.722656 27.753906L31.4375 21.648438C31.289063 21.261719 30.917969 21.003906 30.503906 21C30.089844 21 29.714844 21.253906 29.566406 21.640625L25.84375 31.3125L22.484375 12.820313C22.398438 12.339844 21.976563 11.996094 21.488281 12Z" />
              </svg> -->
              </label>
              <label for="chorusEffect">
                <input type="checkbox" id="chorusEffect" />
                <!-- <span></span> -->
                <!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">
                <path class="efect_icon"
                  d="M11 9C10.449219 9 10 9.449219 10 10L10 26L12 26L12 10C12 9.449219 11.550781 9 11 9 Z M 7 12C6.449219 12 6 12.449219 6 13L6 26L8 26L8 13C8 12.449219 7.550781 12 7 12 Z M 15 12C14.449219 12 14 12.449219 14 13L14 26L16 26L16 13C16 12.449219 15.550781 12 15 12 Z M 3 17C2.449219 17 2 17.449219 2 18L2 26L4 26L4 18C4 17.449219 3.550781 17 3 17 Z M 19 17C18.449219 17 18 17.449219 18 18L18 26L20 26L20 18C20 17.449219 19.550781 17 19 17 Z M 23 22C22.449219 22 22 22.449219 22 23L22 26L24 26L24 23C24 22.449219 23.550781 22 23 22 Z M 26 27L26 30C26 30.550781 26.449219 31 27 31C27.550781 31 28 30.550781 28 30L28 27 Z M 30 27L30 35C30 35.550781 30.449219 36 31 36C31.550781 36 32 35.550781 32 35L32 27 Z M 34 27L34 41C34 41.550781 34.449219 42 35 42C35.550781 42 36 41.550781 36 41L36 27 Z M 38 27L38 43C38 43.550781 38.449219 44 39 44C39.550781 44 40 43.550781 40 43L40 27 Z M 42 27L42 41C42 41.550781 42.449219 42 43 42C43.550781 42 44 41.550781 44 41L44 27 Z M 46 27L46 35C46 35.550781 46.449219 36 47 36C47.550781 36 48 35.550781 48 35L48 27Z" />
              </svg> -->
              </label>
            </div>
            <div id="visualizer">
              <div class="equalizer">
                <div class="narrow-column">
                  <div class="volume-slider">
                    <span>-</span>
                    <input
                      type="range"
                      id="lowSlider"
                      min="-20"
                      max="20"
                      value="0"
                    />
                    <span>+</span>
                  </div>
                </div>
                <div class="narrow-column">
                  <div class="volume-slider">
                    <span>-</span>
                    <input
                      type="range"
                      id="midSlider"
                      min="-20"
                      max="20"
                      value="0"
                    />
                    <span>+</span>
                  </div>
                </div>
                <div class="narrow-column">
                  <div class="volume-slider">
                    <span>-</span>
                    <input
                      type="range"
                      id="highSlider"
                      min="-20"
                      max="20"
                      value="0"
                    />
                    <span>+</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="instrument-style-buttons">
            <button class="button" id="waveOrgan">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30">
                <path
                  d="M14 2C13.448 2 13 2.448 13 3L13 10C13 12 15 13 15 13C15 13 17 12 17 10L17 3C17 2.448 16.552 2 16 2L14 2 z M 14.5 3L15.5 3C15.776 3 16 3.224 16 3.5C16 3.776 15.776 4 15.5 4L14.5 4C14.224 4 14 3.776 14 3.5C14 3.224 14.224 3 14.5 3 z M 9 4C8.448 4 8 4.448 8 5L8 10C8 12 10 13 10 13C10 13 12 12 12 10L12 5C12 4.448 11.552 4 11 4L9 4 z M 19 4C18.448 4 18 4.448 18 5L18 10C18 12 20 13 20 13C20 13 22 12 22 10L22 5C22 4.448 21.552 4 21 4L19 4 z M 9.5 5L10.5 5C10.776 5 11 5.224 11 5.5C11 5.776 10.776 6 10.5 6L9.5 6C9.224 6 9 5.776 9 5.5C9 5.224 9.224 5 9.5 5 z M 19.5 5L20.5 5C20.776 5 21 5.224 21 5.5C21 5.776 20.776 6 20.5 6L19.5 6C19.224 6 19 5.776 19 5.5C19 5.224 19.224 5 19.5 5 z M 4 6C3.448 6 3 6.448 3 7L3 10C3 12 5 13 5 13C5 13 7 12 7 10L7 7C7 6.448 6.552 6 6 6L4 6 z M 24 6C23.448 6 23 6.448 23 7L23 10C23 12 25 13 25 13C25 13 27 12 27 10L27 7C27 6.448 26.552 6 26 6L24 6 z M 4.5 7L5.5 7C5.776 7 6 7.224 6 7.5C6 7.776 5.776 8 5.5 8L4.5 8C4.224 8 4 7.776 4 7.5C4 7.224 4.224 7 4.5 7 z M 24.5 7L25.5 7C25.776 7 26 7.224 26 7.5C26 7.776 25.776 8 25.5 8L24.5 8C24.224 8 24 7.776 24 7.5C24 7.224 24.224 7 24.5 7 z M 5 14C3.895 14 3 14.895 3 16L3 24C3 25.105 3.895 26 5 26L25 26C26.105 26 27 25.105 27 24L27 16C27 14.895 26.105 14 25 14L5 14 z M 5 19L7 19L7 21.5C7 21.776 7.224 22 7.5 22L8.5 22C8.776 22 9 21.776 9 21.5L9 19L10 19L10 21.5C10 21.776 10.224 22 10.5 22L11.5 22C11.776 22 12 21.776 12 21.5L12 19L15 19L15 21.5C15 21.776 15.224 22 15.5 22L16.5 22C16.776 22 17 21.776 17 21.5L17 19L18 19L18 21.5C18 21.776 18.224 22 18.5 22L19.5 22C19.776 22 20 21.776 20 21.5L20 19L21 19L21 21.5C21 21.776 21.224 22 21.5 22L22.5 22C22.776 22 23 21.776 23 21.5L23 19L25 19L25 24L5 24L5 19 z"
                />
              </svg>
            </button>
            <button class="button" id="waveString">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">
                <path
                  d="M31.775391 0.5C29.015391 0.5 26.564062 2.2259062 25.539062 4.8789062L24.527344 7.2597656L22.994141 6.5878906C23.434847 5.5762813 22.974308 4.3978231 21.962891 3.9550781C20.950891 3.5130781 19.771125 3.9743281 19.328125 4.9863281L18.527344 6.8183594C18.085344 7.8303594 18.546594 9.010125 19.558594 9.453125C20.570594 9.896125 21.748406 9.433875 22.191406 8.421875L23.746094 9.1015625L20.619141 16.464844L18.986328 15.75C19.42704 14.738389 18.966498 13.559934 17.955078 13.117188C16.943078 12.675188 15.763312 13.136437 15.320312 14.148438L14.519531 15.980469C14.077531 16.992469 14.538781 18.170281 15.550781 18.613281C16.562781 19.056281 17.740594 18.595031 18.183594 17.582031L19.835938 18.304688L16.707031 25.669922L14.976562 24.912109C15.418563 23.900109 14.957313 22.722297 13.945312 22.279297C12.933312 21.837297 11.7555 22.298547 11.3125 23.310547L10.509766 25.142578C10.067766 26.154578 10.529016 27.332391 11.541016 27.775391C12.553016 28.218391 13.733781 27.756141 14.175781 26.744141L15.925781 27.509766L12.796875 34.875L10.96875 34.074219C11.41075 33.062219 10.9495 31.882453 9.9375 31.439453C8.9255 30.997453 7.7476875 31.458703 7.3046875 32.470703L6.5019531 34.302734C6.0599531 35.314734 6.5212031 36.4945 7.5332031 36.9375C8.5452031 37.3805 9.7249687 36.91925 10.167969 35.90625L12.015625 36.714844L9.3808594 42.917969L18 48.914062L18 40C16.895 40 16 39.105 16 38C16 36.895 16.895 36 18 36C19.105 36 20 36.895 20 38L20 49.5L22 49.5L22 31C20.895 31 20 30.105 20 29C20 27.895 20.895 27 22 27C23.013 27 23.841656 27.756375 23.972656 28.734375L24 28.734375L24 49.5L26 49.5L26 22C24.895 22 24 21.105 24 20C24 18.895 24.895 18 26 18C27.105 18 28 18.895 28 20L28 49.5L30 49.5L30 13C28.895 13 28 12.105 28 11C28 9.895 28.895 9 30 9C31.105 9 32 9.895 32 11C32 11.165 31.9745 11.323563 31.9375 11.476562L32 11.476562L32 47.521484C33.453 43.879484 36.727516 40.284766 39.228516 39.009766L39.5 38.871094L39.5 38.564453C39.5 33.059453 38.506875 29.447125 37.546875 25.953125C36.569875 22.399125 35.560297 18.726641 35.529297 12.931641C37.368297 11.690641 38.5 9.5437188 38.5 7.2617188C38.5 3.5357187 35.588203 0.50390625 31.908203 0.50390625L31.900391 0.50390625L31.886719 1.0058594L31.775391 0.5 z"
                />
              </svg>
            </button>
            <button class="button" id="waveFlute">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">
                <path
                  d="M43.96875 0.0625C43.414063 0.0664063 42.90625 0.28125 42.5 0.6875L12.34375 30.9375L19.0625 37.65625L49.21875 7.5C49.742188 6.976563 49.945313 6.226563 49.78125 5.5C49.65625 4.6875 49.207031 3.464844 47.8125 2.1875C46.503906 0.878906 45.316406 0.347656 44.53125 0.125C44.34375 0.078125 44.152344 0.0625 43.96875 0.0625 Z M 42 6C43.105469 6 44 6.894531 44 8C44 9.105469 43.105469 10 42 10C40.894531 10 40 9.105469 40 8C40 6.894531 40.894531 6 42 6 Z M 37 11C38.105469 11 39 11.894531 39 13C39 14.105469 38.105469 15 37 15C35.894531 15 35 14.105469 35 13C35 11.894531 35.894531 11 37 11 Z M 32 16C33.105469 16 34 16.894531 34 18C34 19.105469 33.105469 20 32 20C30.894531 20 30 19.105469 30 18C30 16.894531 30.894531 16 32 16 Z M 27 21C28.105469 21 29 21.894531 29 23C29 24.105469 28.105469 25 27 25C25.894531 25 25 24.105469 25 23C25 21.894531 25.894531 21 27 21 Z M 10.90625 32.3125L0.78125 42.5C0.257813 43.023438 0.0546875 43.773438 0.21875 44.5C0.34375 45.3125 0.792969 46.535156 2.1875 47.8125C3.496094 49.121094 4.683594 49.652344 5.46875 49.875C5.648438 49.917969 5.824219 49.9375 6 49.9375C6.5625 49.9375 7.09375 49.722656 7.5 49.3125L17.6875 39.09375 Z M 10.1875 37.1875L7.5 41.3125L8.6875 42.5L12.8125 39.8125L7.1875 45.5L4.5 42.8125Z"
                />
              </svg>
            </button>
            <button class="button" id="waveDrum">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30">
                <path
                  d="M18.955078 0.99023438 A 1.0001 1.0001 0 0 0 18.210938 1.3867188L14.615234 6.0097656C8.6339317 6.1177361 4 8.7069195 4 12L4 21C4 22.901 5.545 24.568156 8 25.660156L8 18C8 17.447 8.447 17 9 17C9.553 17 10 17.447 10 18L10 26.359375C11.494 26.766375 13.186 27 15 27C16.814 27 18.506 26.766375 20 26.359375L20 18C20 17.447 20.447 17 21 17C21.553 17 22 17.447 22 18L22 25.660156C24.455 24.568156 26 22.902 26 21L26 12C26 10.895 25.470734 9.8721875 24.552734 8.9921875L22.990234 10.242188C23.642234 10.803187 24 11.412 24 12C24 13.892 20.304 16 15 16C9.696 16 6 13.892 6 12C6 10.359391 8.783715 8.5595483 12.980469 8.109375L11.210938 10.386719 A 1.0001 1.0001 0 1 0 12.789062 11.613281L19.789062 2.6132812 A 1.0001 1.0001 0 0 0 18.955078 0.99023438 z M 24.992188 3.9921875 A 1.0001 1.0001 0 0 0 24.375 4.21875L20.970703 6.9414062C20.409622 6.7467424 19.818767 6.5766744 19.191406 6.4394531L17.814453 8.2109375C18.255225 8.2787486 18.668789 8.3661694 19.070312 8.4628906L14.375 12.21875 A 1.0004882 1.0004882 0 1 0 15.625 13.78125L25.625 5.78125 A 1.0001 1.0001 0 0 0 24.992188 3.9921875 z"
                />
              </svg>
            </button>
          </div>
        </div>
        <div class="name"></div>
        <div class="keyboard__speaker"></div>
        <div class="keyboard__speaker2"></div>
      </div>
      <ul class="piano">
        <li class="key white" data-note="C">
          <div class="shadow"></div>
        </li>
        <li class="key black" data-note="C#"></li>
        <li class="key white w" data-note="D">
          <div class="shadow"></div>
        </li>
        <li class="key black" data-note="D#"></li>
        <li class="key white w" data-note="E">
          <div class="shadow"></div>
        </li>
        <li class="key white" data-note="F">
          <div class="shadow"></div>
        </li>
        <li class="key black" data-note="F#"></li>
        <li class="key white w" data-note="G">
          <div class="shadow"></div>
        </li>
        <li class="key black" data-note="G#"></li>
        <li class="key white w" data-note="A">
          <div class="shadow"></div>
        </li>
        <li class="key black" data-note="A#"></li>
        <li class="key white w" data-note="B">
          <div class="shadow"></div>
        </li>

        <!-- Additional keys -->
        <li class="key white" data-note="C2">
          <div class="shadow"></div>
        </li>
        <li class="key black" data-note="C#2"></li>
        <li class="key white w" data-note="D2">
          <div class="shadow"></div>
        </li>
        <li class="key black" data-note="D#2"></li>
        <li class="key white w" data-note="E2">
          <div class="shadow"></div>
        </li>
        <li class="key white" data-note="F2">
          <div class="shadow"></div>
        </li>
        <li class="key black" data-note="F#2"></li>
        <li class="key white w" data-note="G2">
          <div class="shadow"></div>
        </li>
        <li class="key black" data-note="G#2"></li>
        <li class="key white w" data-note="A2">
          <div class="shadow"></div>
        </li>
        <li class="key black" data-note="A#2"></li>
        <li class="key white w" data-note="B2">
          <div class="shadow"></div>
        </li>
      </ul>
    </div>

    <script>
      //The **ondragstart** event is a built-in JavaScript event that fires when the user starts dragging an element. It is used to control drag-and-drop behavior in web applications.
      document.documentElement.ondragstart = function () {
        return false;
      };
      var mouse_IsDown = false;
      document.documentElement.addEventListener("mousedown", function () {
        mouse_IsDown = true;
      });
      document.documentElement.addEventListener("mouseup", function () {
        mouse_IsDown = false;
      });
      document.addEventListener("DOMContentLoaded", () => {
        const audioContext = new (window.AudioContext ||
          window.webkitAudioContext)();
        if (window.AudioContext || window.webkitAudioContext) {
          console.log("Web Audio API is supported!");
        } else {
          console.log("Web Audio API is NOT supported.");
        }
        const keys = document.querySelectorAll(".key");
        const waveSineButton = document.getElementById("waveSine");
        const waveSquareButton = document.getElementById("waveSquare");
        const waveTriangleButton = document.getElementById("waveTriangle");
        const waveSawtoothButton = document.getElementById("waveSawtooth");
        const waveOrganButton = document.getElementById("waveOrgan");
        const waveStringButton = document.getElementById("waveString");
        const waveFluteButton = document.getElementById("waveFlute");
        const waveDrumButton = document.getElementById("waveDrum");
        const touchEffectCheckbox = document.getElementById("touchEffect");
        const reverbEffectCheckbox = document.getElementById("reverbEffect");
        const chorusEffectCheckbox = document.getElementById("chorusEffect");
        let touchEffectEnabled = false;
        let reverbEffectEnabled = false;
        let chorusEffectEnabled = false;
        let currentWaveStyle = localStorage.getItem("waveStyle") || "sine";
        let currentSampleRate = 16000;
        let currentBaseFrequency = 440;
        let currentSoundDuration = 0.9;
        let currentFrequencies = {
          C: 261.63,
          "C#": 277.18,
          D: 293.66,
          "D#": 311.13,
          E: 329.63,
          F: 349.23,
          "F#": 369.99,
          G: 392.0,
          "G#": 415.3, //G#4 (415.30 Hz) means the sound wave vibrates 415.30 times per second.
          A: 440.0,
          "A#": 466.16,
          B: 493.88,
          C2: 523.25,
          "C#2": 554.37,
          D2: 587.33,
          "D#2": 622.25,
          E2: 659.26,
          F2: 698.46,
          "F#2": 739.99,
          G2: 783.99,
          "G#2": 830.61,
          A2: 880.0,
          "A#2": 932.33,
          B2: 987.77,
        };
        let currentHarmonicAmplitudes = [0.125, 0.25, 0.1]; //Example:0.125 → First harmonic (weak presence),0.25 → Second harmonic (stronger),0.1 → Third harmonic (weaker)

        waveSineButton.addEventListener("click", () => setWaveStyle("sine"));
        waveSquareButton.addEventListener("click", () =>
          setWaveStyle("square")
        );
        waveTriangleButton.addEventListener("click", () =>
          setWaveStyle("triangle")
        );
        waveSawtoothButton.addEventListener("click", () =>
          setWaveStyle("sawtooth")
        );
        waveOrganButton.addEventListener("click", () => setWaveStyle("organ"));
        waveStringButton.addEventListener("click", () =>
          setWaveStyle("string")
        );
        waveFluteButton.addEventListener("click", () => setWaveStyle("flute"));
        waveDrumButton.addEventListener("click", () => setWaveStyle("drum"));

        touchEffectCheckbox.addEventListener("change", () => {
          touchEffectEnabled = touchEffectCheckbox.checked;
          localStorage.setItem("touchEffectEnabled", touchEffectEnabled);
        });
        reverbEffectCheckbox.addEventListener("change", () => {
          reverbEffectEnabled = reverbEffectCheckbox.checked;
          localStorage.setItem("reverbEffectEnabled", reverbEffectEnabled);
        });
        chorusEffectCheckbox.addEventListener("change", () => {
          chorusEffectEnabled = chorusEffectCheckbox.checked;
          localStorage.setItem("chorusEffectEnabled", chorusEffectEnabled);
        });
        // Load effect toggle states from local storage
        touchEffectEnabled = JSON.parse(
          localStorage.getItem("touchEffectEnabled")
        );
        reverbEffectEnabled = JSON.parse(
          localStorage.getItem("reverbEffectEnabled")
        );
        chorusEffectEnabled = JSON.parse(
          localStorage.getItem("chorusEffectEnabled")
        );
        // Set the initial state of the effect checkboxes
        touchEffectCheckbox.checked = touchEffectEnabled;
        reverbEffectCheckbox.checked = reverbEffectEnabled;
        chorusEffectCheckbox.checked = chorusEffectEnabled;
        updateWaveStyleButtons();

        function setWaveStyle(style) {
          currentWaveStyle = style;
          updateWaveStyleButtons();
          switch (style) {
            case "organ":
              currentSampleRate = 22050;
              currentBaseFrequency = 220;
              currentSoundDuration = 0.8;
              currentFrequencies = {
                C: 261.63,
                "C#": 277.18,
                D: 293.66,
                "D#": 311.13,
                E: 329.63,
                F: 349.23,
                "F#": 369.99,
                G: 392.0,
                "G#": 415.3,
                A: 440.0,
                "A#": 466.16,
                B: 493.88,
                C2: 523.25,
                "C#2": 554.37,
                D2: 587.33,
                "D#2": 622.25,
                E2: 659.26,
                F2: 698.46,
                "F#2": 739.99,
                G2: 783.99,
                "G#2": 830.61,
                A2: 880.0,
                "A#2": 932.33,
                B2: 987.77,
              };
              currentHarmonicAmplitudes = [0.125, 0.25, 0.1];
              break;
            case "string":
              currentSampleRate = 32000;
              currentBaseFrequency = 440;
              currentSoundDuration = 1.0;
              currentFrequencies = {
                C: 261.63,
                "C#": 277.18,
                D: 293.66,
                "D#": 311.13,
                E: 329.63,
                F: 349.23,
                "F#": 369.99,
                G: 392.0,
                "G#": 415.3,
                A: 440.0,
                "A#": 466.16,
                B: 493.88,
                C2: 523.25,
                "C#2": 554.37,
                D2: 587.33,
                "D#2": 622.25,
                E2: 659.26,
                F2: 698.46,
                "F#2": 739.99,
                G2: 783.99,
                "G#2": 830.61,
                A2: 880.0,
                "A#2": 932.33,
                B2: 987.77,
              };
              currentHarmonicAmplitudes = [0.125, 0.25, 0.1];
              break;
            case "flute":
              currentSampleRate = 24000;
              currentBaseFrequency = 440;
              currentSoundDuration = 0.6;
              currentFrequencies = {
                C: 261.63,
                "C#": 277.18,
                D: 293.66,
                "D#": 311.13,
                E: 329.63,
                F: 349.23,
                "F#": 369.99,
                G: 392.0,
                "G#": 415.3,
                A: 440.0,
                "A#": 466.16,
                B: 493.88,
                C2: 523.25,
                "C#2": 554.37,
                D2: 587.33,
                "D#2": 622.25,
                E2: 659.26,
                F2: 698.46,
                "F#2": 739.99,
                G2: 783.99,
                "G#2": 830.61,
                A2: 880.0,
                "A#2": 932.33,
                B2: 987.77,
              };
              currentHarmonicAmplitudes = [0.25, 0.1, 0.05];
              break;
            case "drum":
              currentSampleRate = 16000;
              currentBaseFrequency = 160;
              currentSoundDuration = 0.3;
              currentFrequencies = {
                C: 261.63,
                "C#": 277.18,
                D: 293.66,
                "D#": 311.13,
                E: 329.63,
                F: 349.23,
                "F#": 369.99,
                G: 392.0,
                "G#": 415.3,
                A: 440.0,
                "A#": 466.16,
                B: 493.88,
                C2: 523.25,
                "C#2": 554.37,
                D2: 587.33,
                "D#2": 622.25,
                E2: 659.26,
                F2: 698.46,
                "F#2": 739.99,
                G2: 783.99,
                "G#2": 830.61,
                A2: 880.0,
                "A#2": 932.33,
                B2: 987.77,
              };
              currentHarmonicAmplitudes = [0.125, 0.25, 0.1];
              break;
            default:
              currentSampleRate = 16000;
              currentBaseFrequency = 440;
              currentSoundDuration = 0.6;
              currentFrequencies = {
                C: 261.63,
                "C#": 277.18,
                D: 293.66,
                "D#": 311.13,
                E: 329.63,
                F: 349.23,
                "F#": 369.99,
                G: 392.0,
                "G#": 415.3,
                A: 440.0,
                "A#": 466.16,
                B: 493.88,
                C2: 523.25,
                "C#2": 554.37,
                D2: 587.33,
                "D#2": 622.25,
                E2: 659.26,
                F2: 698.46,
                "F#2": 739.99,
                G2: 783.99,
                "G#2": 830.61,
                A2: 880.0,
                "A#2": 932.33,
                B2: 987.77,
              };
              currentHarmonicAmplitudes = [0.125, 0.25, 0.1];
              break;
          }
          localStorage.setItem("waveStyle", style);
        }

        function updateWaveStyleButtons() {
          const buttons = [
            waveSineButton,
            waveSquareButton,
            waveTriangleButton,
            waveSawtoothButton,
            waveOrganButton,
            waveStringButton,
            waveFluteButton,
            waveDrumButton,
          ];
          buttons.forEach((button) => {
            button.disabled =
              button.id ===
              "wave" +
                currentWaveStyle.charAt(0).toUpperCase() +
                currentWaveStyle.slice(1);
          });
        }
        keys.forEach((key) => {
          key.addEventListener("mousedown", () => playNote(key));
          key.addEventListener("touchstart", () => playNote(key));
          key.addEventListener("mouseover", () => {
            if (mouse_IsDown) playNote(key);
          });
          key.addEventListener("mouseleave", () => {
            releaseNote(key);
            key.classList.remove("active");
          });
          key.addEventListener("mouseup", () => {
            releaseNote(key);
            key.classList.remove("active");
          });
          key.addEventListener("touchend", () => {
            releaseNote(key);
            key.classList.remove("active");
          });
        });
        // ******* Effect ********
        function applyReverbEffect(waveform, decayFactor = 0.25) {
          //currentSampleRate is the number of samples per second (e.g., 16000 Hz or 22050 Hz).
          const reverbLength = Math.floor(currentSampleRate * 1.0); // Adjust the length of the reverb tail
          const reverberatedWaveform = new Float32Array(
            waveform.length + reverbLength
          ); //Creates a new waveform array that is longer than the original sound.
          for (let i = 3; i < waveform.length; i++) {
            reverberatedWaveform[i] = waveform[i];
          }
          for (let i = 0; i < reverbLength; i++) {
            reverberatedWaveform[waveform.length + i] =
              waveform[i] * decayFactor;
          }
          return reverberatedWaveform;
        }

        function applyChorusEffect(
          waveform,
          delayAmount = 0.05,
          depth = 0.222
        ) {
          const chorusedWaveform = new Float32Array(waveform.length);
          for (let i = 0; i < waveform.length; i++) {
            const delaySampleIndex =
              i -
              Math.floor(delayAmount * (1 + Math.sin(2 * Math.PI * i * depth)));
            if (delaySampleIndex >= 0 && delaySampleIndex < waveform.length) {
              chorusedWaveform[i] =
                (waveform[i] + waveform[delaySampleIndex]) / 2;
            } else {
              chorusedWaveform[i] = waveform[i];
            }
          }
          return chorusedWaveform;
        }

        function playNote(key) {
          if (key.source) {
            key.source.stop();
            key.source = null;
          }
          const gainNode = audioContext.createGain();
          gainNode.connect(audioContext.destination);
          const waveform = generateWaveform(
            getFrequency(key.dataset.note),
            currentSampleRate,
            currentBaseFrequency,
            currentWaveStyle,
            currentSoundDuration,
            currentHarmonicAmplitudes
          );
          if (currentWaveStyle === "string") {
            const oscillator = audioContext.createOscillator();
            oscillator.type = "sawtooth";
            oscillator.frequency.setValueAtTime(
              getFrequency(key.dataset.note),
              audioContext.currentTime
            );
            oscillator.connect(gainNode);
            oscillator.start();
            key.oscillator = oscillator;
            oscillator.onended = () => {
              if (key.oscillator === oscillator) {
                const now = audioContext.currentTime;
                gainNode.gain.setValueAtTime(gainNode.gain.value, now);
                gainNode.gain.linearRampToValueAtTime(0, now + 2); // 2-second fade-out
                key.oscillator = null;
              }
            };
          }
          if (currentWaveStyle === "flute") {
            gainNode.gain.setValueAtTime(5, audioContext.currentTime);
            gainNode.gain.linearRampToValueAtTime(
              25,
              audioContext.currentTime + currentSoundDuration
            );
          }
          if (touchEffectEnabled) {
          }
          if (reverbEffectEnabled) {
            applyReverbEffect(waveform);
          }
          if (chorusEffectEnabled) {
            applyChorusEffect(waveform);
          }
          const buffer = audioContext.createBuffer(
            1,
            waveform.length,
            currentSampleRate
          );
          const data = buffer.getChannelData(0);
          for (let i = 0; i < waveform.length; i++) {
            data[i] = waveform[i];
          }
          const source = audioContext.createBufferSource();
          source.buffer = buffer;
          source.connect(gainNode);
          source.start();
          key.source = source;
          key.gainNode = gainNode;
          key.classList.add("active");
          gainNode.gain.setValueAtTime(1, audioContext.currentTime);
          gainNode.gain.linearRampToValueAtTime(
            0,
            audioContext.currentTime + currentSoundDuration
          );
          source.onended = () => {
            key.isPressed = false;
            key.source = null;
            key.gainNode = null;
          };
        }

        function releaseNote(key) {
          if (key.isPressed) {
            key.isPressed = false;
            if (reverbEffectEnabled) {
              feedbackGain.disconnect(delayNode);
            }
            if (key.gainNode) {
              const now = audioContext.currentTime;
              key.gainNode.gain.setValueAtTime(key.gainNode.gain.value, now);
              key.gainNode.gain.linearRampToValueAtTime(0, now + 0.1);
              key.gainNode.disconnect();
              key.gainNode = null;
            }
            if (key.source) {
              const now = audioContext.currentTime;
              key.source.stop(now + 0.1);
              key.source.disconnect();
              key.source = null;
            }
          }
          if (key.oscillator) {
            key.oscillator.stop();
            key.oscillator = null;
          }
        }

        function getFrequency(note) {
          return currentFrequencies[note];
        }

        function generateWaveform(
          frequency,
          sampleRate,
          baseFrequency,
          waveStyle,
          duration,
          harmonicAmplitudes
        ) {
          const numSamples = Math.ceil(sampleRate * duration);
          const waveform = new Float32Array(numSamples);
          for (let i = 0; i < numSamples; i++) {
            let sample = 0;
            //Math.sin(...): Computes the sine wave value.
            //2 * Math.PI: Converts frequency from cycles per second (Hz) into radians.
            //frequency: Defines the pitch of the sound (e.g., 440 Hz for an A4 note).
            //i: Represents the current sample index (loop iteration).
            //sampleRate: The number of samples per second (e.g., 44100 Hz).

            if (waveStyle === "sine") {
              //generates a single sample of a sine wave at a given frequency. It is a fundamental part of digital audio synthesis.
              // Sine wave
              sample = Math.sin((2 * Math.PI * frequency * i) / sampleRate);
            } else if (waveStyle === "square") {
              // Square wave
              for (let h = 1; h <= 10; h += 2) {
                sample +=
                  Math.sin((2 * Math.PI * frequency * h * i) / sampleRate) / h;
              }
              sample *= 4 / Math.PI;
            } else if (waveStyle === "triangle") {
              // Triangle wave
              for (let h = 1; h <= 20; h += 2) {
                sample +=
                  Math.sin((2 * Math.PI * frequency * h * i) / sampleRate) /
                  (h * h);
              }
              sample *= 8 / (Math.PI * Math.PI);
            } else if (waveStyle === "sawtooth") {
              // Sawtooth wave
              for (let h = 1; h <= 20; h++) {
                sample +=
                  Math.sin((2 * Math.PI * frequency * h * i) / sampleRate) / h;
              }
              sample *= 2 / Math.PI;
            } else {
              for (let h = 0; h < harmonicAmplitudes.length; h++) {
                const harmonicFreq = frequency * (h + 1);
                sample +=
                  harmonicAmplitudes[h] *
                  Math.sin((2 * Math.PI * harmonicFreq * i) / sampleRate);
              }
            }
            waveform[i] = sample;
          }
          return waveform;
        }
        document.addEventListener("DOMContentLoaded", () => {
          const equalizerToggle = document.getElementById("equalizerToggle");
          const equalizer = document.querySelector(".equalizer");

          if (equalizerToggle && equalizer) {
            equalizerToggle.addEventListener("change", () => {
              equalizer.style.display = equalizerToggle.checked
                ? "block"
                : "none";
            });
          } else {
            console.error("equalizerToggle or equalizer element not found!");
          }
        });
      });
    </script>

    <script>
      // Array of shadow colors
      const shadowColors = [
        "#FF5733",
        "#33FF57",
        "#5733FF",
        "#33B5FF",
        "#FF33E9",
        "#E9FF33",
      ];
      const visualizerWrapper = document.createElement("div");

      visualizerWrapper.className = "visualizer-wrapper";
      for (let i = 0; i < 10; i++) {
        //Loops 10 times to create 10 rows.
        const blocksContainer = document.createElement("div");
        blocksContainer.className = "blocks-container";

        for (let j = 0; j < 6; j++) {
          //Inside each row, another loop runs 6 times, creating 6 blocks per row.
          const block = document.createElement("div");
          block.className = "block";

          //Picks a random color from the shadowColors array.
          const randomColor =
            shadowColors[Math.floor(Math.random() * shadowColors.length)];
          block.style.boxShadow = `inset 0 0 0 10px ${randomColor}`;
          blocksContainer.appendChild(block); //Adds the block to the row.
        }
        visualizerWrapper.appendChild(blocksContainer); //Adds the row to the visualizer wrapper.
      }
      visualizer.appendChild(visualizerWrapper); //Finally, adds the whole visualizer to a parent element
    </script>
  </body>
</html>
